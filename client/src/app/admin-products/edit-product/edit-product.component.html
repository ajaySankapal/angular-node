<div class="row">
  <div class="container ml-4 mt-2 border-0  d-flex justify-content-between">
    <h3 class="mt-2" style="margin-left:1rem">
      <span>Create Product</span>
    </h3>
    <div class="card-toolbar" data-bs-toggle="tooltip" data-bs-placement="top" data-bs-trigger="hover" title="Close">
      <button type="button" class="btn-close btn-secondary border-0" (click)="modal.close()"></button>
    </div>
  </div>

  <form [formGroup]="editProductForm">
    <div class="card card-custom gutter-b example example-compact mb-xl-8" style="padding:0rem 2.25rem;">
      <div class="card-body add-supplier-input" style="padding:0rem 0rem;">
        <div class="form-group row">
          <div class="col-lg-12" style="margin-top: 1.25rem;">
            <label class="form-label">Product name</label>
            <input type="text" class="form-control" placeholder="Enter product name" formControlName="title">
            <app-field-error [displayError]="
                        f['title'].touched &&
                        f['title'].errors &&
                        f['title'].errors['required']
                      " errorMsg="Please Enter product Name">
            </app-field-error>
          </div>
          <div class="col-lg-12" style="margin-top: 1.25rem;">
            <label class="form-label">Price</label>
            <input type="text" class="form-control" placeholder="Enter price" formControlName="price">
            <app-field-error [displayError]="
                                    f['price'].touched &&
                                    f['price'].errors &&
                                    f['price'].errors['required']
                                  " errorMsg="Please Enter price">
            </app-field-error>
          </div>
          <div class="col-lg-12" style="margin-top: 1.25rem;">
            <label class="form-label">Tags</label>
            <ng-select class="chosen-select form-select" [items]="[]" [addTag]="true" [multiple]="true"
              [selectOnTab]="true" [isOpen]="false" formControlName="tags">
            </ng-select>
            <app-field-error [displayError]="
                                    f['tags'].touched &&
                                    f['tags'].errors &&
                                    f['tags'].errors['required']
                                  " errorMsg="Please Enter tags">
            </app-field-error>
          </div>
          <div class="col-lg-12" style="margin-top: 1.25rem;">
            <label class="form-label">Photo</label>

            <input type="file" class="form-control" placeholder="Upload photo" (change)="onFileSelected($event)">
            <div class="text-danger" *ngIf="showFileError">Please upload file</div>
          </div>
          <div class="col-lg-12 row" style="margin-top: 1.25rem;">
            <label class="form-label">Attribute</label>
            <div formArrayName="attributes">
              <div class="row mt-2" *ngFor="let control of AttributeArray.controls; let i = index;" [formGroupName]="i">
                <div class="col-12 mt-1 mb-1" *ngIf="i===0">
                  <button class="btn btn-outline-primary" (click)="onAddAttribute()">Add Attribute</button>
                  <button class="btn btn-outline-primary mx-2" (click)="onRemoveAttribute(i)">Remove Attribute</button>

                </div>
                <div class="form-group col-6">
                  <input type="text" class="form-control" placeholder="key" formControlName="key" maxlength="50">
                </div>
                <div class="form-group col-6">
                  <input type="text" class="form-control" placeholder="value" formControlName="value" maxlength="50">
                </div>
                <div class="text-danger" *ngIf="showAttributeError">Please add attributes</div>
              </div>
            </div>

          </div>
        </div>
      </div>
      <div class="card-footer col-12 mt-2 mb-4 " style="padding: 0rem 0rem;">
        <button type="submit" class="btn btn-primary btn-block w-100 me-2" name="submitButton"
          (click)="onUpdateProduct()">Add
          Product</button>
      </div>
    </div>
  </form>
</div>